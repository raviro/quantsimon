############################################################################
############################################################################

## the ibmq qasm code for reduced Simon state update (Figure 4)

OPENQASM 2.0;
include "qelib1.inc";

qreg k0[8];
qreg k1[8];
qreg l[8];
qreg r[8];

ccx l[7],l[4],r[0];
cx l[6],r[0];
cx k0[0],r[0];
ccx l[0],l[5],r[1];
cx l[7],r[1];
cx k0[1],r[1];
ccx l[1],l[6],r[2];
cx l[0],r[2];
cx k0[2],r[2];
ccx l[2],l[7],r[3];
cx l[1],r[3];
cx k0[3],r[3];
ccx l[3],l[0],r[4];
cx l[2],r[4];
cx k0[4],r[4];
ccx l[4],l[1],r[5];
cx l[3],r[5];
cx k0[5],r[5];
ccx l[5],l[2],r[6];
cx l[4],r[6];
cx k0[6],r[6];
ccx l[6],l[3],r[7];
cx l[5],r[7];
cx k0[7],r[7];
barrier k0[0],k0[1],k0[2],k0[3],k0[4],k0[5],k0[6],k0[7],k1[0],k1[1],k1[2],k1[3],
k1[4],k1[5],k1[6],k1[7],l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],r[0],r[1],r[2],
r[3],r[4],r[5],r[6],r[7];
ccx r[7],r[4],l[0];
cx r[6],l[0];
cx k1[0],l[0];
ccx r[0],r[5],l[1];
cx r[7],l[1];
cx k1[1],l[1];
ccx r[1],r[6],l[2];
cx r[0],l[2];
cx k1[2],l[2];
ccx r[2],r[7],l[3];
cx r[1],l[3];
cx k1[3],l[3];
ccx r[3],r[0],l[4];
cx r[2],l[4];
cx k1[4],l[4];
ccx r[4],r[1],l[5];
cx r[3],l[5];
cx k1[5],l[5];
ccx r[5],r[2],l[6];
cx r[4],l[6];
cx k1[6],l[6];
ccx r[6],r[3],l[7];
cx r[5],l[7];
cx k1[7],l[7];

############################################################################
############################################################################

## the ibmq qasm code for keyexpansion (Figure 8)

OPENQASM 2.0;
include "qelib1.inc";

qreg k0[8];
qreg k1[8];

cx k1[3],k0[0];
cx k1[4],k0[0];
x k0[0];
cx k1[4],k0[1];
cx k1[5],k0[1];
x k0[1];
cx k1[5],k0[2];
cx k1[6],k0[2];
x k0[2];
cx k1[6],k0[3];
cx k1[7],k0[3];
x k0[3];
cx k1[7],k0[4];
cx k1[0],k0[4];
x k0[4];
cx k1[0],k0[5];
cx k1[1],k0[5];
x k0[5];
cx k1[1],k0[6];
cx k1[2],k0[6];
x k0[6];
cx k1[2],k0[7];
cx k1[3],k0[7];
x k0[7];
barrier k0[0],k0[1],k0[2],k0[3],k0[4],k0[5],k0[6],k0[7],k1[0],k1[1],k1[2],k1[3],
k1[4],k1[5],k1[6],k1[7];
cx k0[3],k1[0];
cx k0[4],k1[0];
cx k0[4],k1[1];
cx k0[5],k1[1];
x k1[1];
cx k0[5],k1[2];
cx k0[6],k1[2];
cx k0[6],k1[3];
cx k0[7],k1[3];
cx k0[7],k1[4];
cx k0[0],k1[4];
x k1[4];
cx k0[0],k1[5];
cx k0[1],k1[5];
x k1[5];
cx k0[1],k1[6];
cx k0[2],k1[6];
cx k0[2],k1[7];
cx k0[3],k1[7];
x k1[7];


############################################################################
############################################################################

## the ibmq qasm code for complete reduced Simon (Figure 10)

OPENQASM 2.0;
include "qelib1.inc";

qreg l[3];
qreg r[3];
qreg k0[3];
qreg k1[3];
creg c[6];

x l[1];
x l[2];
x r[0];
x r[2];      
x k0[2];
x k1[0];
x k1[1];
ccx l[1],l[2],r[0];
cx l[0],r[0];
cx k0[0],r[0];
ccx l[2],l[0],r[1];
cx l[1],r[1];
cx k0[1],r[1];
ccx l[0],l[1],r[2];
cx l[2],r[2];
cx k0[2],r[2];
barrier l[0],l[1],l[2],r[0],r[1],r[2],k0[0],k0[1],k0[2],k1[0],k1[1],k1[2];
ccx r[1],r[2],l[0];
cx r[0],l[0];
cx k1[0],l[0];
ccx r[2],r[0],l[1];
cx r[1],l[1];
cx k1[1],l[1];
ccx r[0],r[1],l[2];
cx r[2],l[2];
cx k1[2],l[2];
barrier l[0],l[1],l[2],r[0],r[1],r[2],k0[0],k0[1],k0[2],k1[0],k1[1],k1[2];
x k0[2];     
cx k1[1],k0[0];
cx k1[2],k0[0];
cx k1[2],k0[1];
cx k1[0],k0[1];
cx k1[0],k0[2];
cx k1[1],k0[2];
barrier l[0],l[1],l[2],r[0],r[1],r[2],k0[0],k0[1],k0[2],k1[0],k1[1],k1[2];
x k1[2];
cx k0[1],k1[0];
cx k0[2],k1[0];
cx k0[2],k1[1];
cx k0[0],k1[1];
cx k0[0],k1[2];
cx k0[1],k1[2];
barrier l[0],l[1],l[2],r[0],r[1],r[2],k0[0],k0[1],k0[2],k1[0],k1[1],k1[2];
ccx l[1],l[2],r[0];
cx l[0],r[0];
cx k0[0],r[0];
ccx l[2],l[0],r[1];
cx l[1],r[1];
cx k0[1],r[1];
ccx l[0],l[1],r[2];
cx l[2],r[2];
cx k0[2],r[2];
barrier l[0],l[1],l[2],r[0],r[1],r[2],k0[0],k0[1],k0[2],k1[0],k1[1],k1[2];
ccx r[1],r[2],l[0];
cx r[0],l[0];
cx k1[0],l[0];
ccx r[2],r[0],l[1];
cx r[1],l[1];
cx k1[1],l[1];
ccx r[0],r[1],l[2];
cx r[2],l[2];
cx k1[2],l[2];
barrier l[0],l[1],l[2],r[0],r[1],r[2],k0[0],k0[1],k0[2],k1[0],k1[1],k1[2];

measure l[0] -> c[0];
measure l[1] -> c[1];
measure l[2] -> c[2];
measure r[0] -> c[3];
measure r[1] -> c[4];
measure r[2] -> c[5];

############################################################################
############################################################################